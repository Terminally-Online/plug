// SPDX-License-Identifier: MIT

pragma solidity 0.8.23;

import { ImmutableCreate2Factory } from
    "../interfaces/Deployment.Create2Factory.Interface.sol";
import { PlugLib } from "../libraries/Plug.Lib.sol";
import { PlugBaseFeeFuse } from "../fuses/Plug.BaseFee.Fuse.sol";
import { PlugBlockNumberFuse } from "../fuses/Plug.BlockNumber.Fuse.sol";
import { PlugClampFuse } from "../fuses/Plug.Clamp.Fuse.sol";
import { PlugFactory } from "../base/Plug.Factory.sol";
import { PlugLimitedCallsFuse } from "../fuses/Plug.LimitedCalls.Fuse.sol";
import { PlugNounsIdFuse } from "../fuses/Plug.NounsId.Fuse.sol";
import { PlugNounsTraitFuse } from "../fuses/Plug.NounsTrait.Fuse.sol";
import { PlugRevocationFuse } from "../fuses/Plug.Revocation.Fuse.sol";
import { PlugTimestampFuse } from "../fuses/Plug.Timestamp.Fuse.sol";
import { PlugVaultSocket } from "../sockets/Plug.Vault.Socket.sol";
import { PlugWindowFuse } from "../fuses/Plug.Window.Fuse.sol";
import { Plug } from "../base/Plug.sol";

/**
 * @title Plug Etcher
 * @notice This contract is the basis of the automatically generated Plug Etcher
 *         contract used to deploy and write the proper addresses. If you need to add
 *         a new etch into the vm stack for testing, you will do so through the file
 *         found at: /lib/functions/etcher.ts
 * @notice A good portion of this model comes from:
 *         https://github.com/Vectorized/multicaller/blob/main/src/MulticallerEtcher.sol
 *         I am not a Foundry expert. If there is a better way to do this, please let me
 *         know because this is a lot of work just to get a contract deployed when you're
 *         doing anything more than a simple in-and-out contract.
 * @author vectorized (twitter:@optimizoor)
 */
library PlugEtcherLib {
    /// @notice The immutable Create2 factory used for deployment.
    ImmutableCreate2Factory internal constant FACTORY =
        ImmutableCreate2Factory(0x0000000000FFe8B47B3e2130213B802212439497);

    bytes internal constant PLUG_BASE_FEE_FUSE_INITCODE =
        hex"6080806040523461001657610619908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a575080631323692a146100455763e5c5e9a31461004057600080fd5b610223565b610181565b346100d6577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906060823601126100d65767ffffffffffffffff6004358181116100dd5761009c9036906004016100e1565b9290936024359283116100d95760609083360301126100d6576100d26100c66004840185876103fc565b60405191829182610137565b0390f35b80fd5b5080fd5b8280fd5b9181601f8401121561010f5782359167ffffffffffffffff831161010f576020838186019501011161010f57565b600080fd5b60005b8381106101275750506000910152565b8181015183820152602001610117565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f6040936020845261017a8151809281602088015260208888019101610114565b0116010190565b3461010f5760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f576004356fffffffffffffffffffffffffffffffff808216820361010f57602435908116810361010f576100d291604051917fffffffffffffffffffffffffffffffff00000000000000000000000000000000809260801b16602084015260801b166030820152602081526100c6816102e4565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f5760043567ffffffffffffffff811161010f5761027d61027760409236906004016100e1565b9061053d565b82516fffffffffffffffffffffffffffffffff928316815291166020820152f35b906102b160209282815194859201610114565b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff82111761030057604052565b6102b5565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761030057604052565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010f570180359067ffffffffffffffff821161010f5760200191813603831361010f57565b92919267ffffffffffffffff821161030057604051916103df60207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8401160184610305565b82948184528183011161010f578281602093846000960137010152565b906104069161053d565b6fffffffffffffffffffffffffffffffff90811691166104f15748116104425761043861043f915b6040810190610346565b3691610397565b90565b6104ed6104666104bb6104536105d3565b61048f604051938492602084019061029e565b7f3a65787069726564000000000000000000000000000000000000000000000000815260080190565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08101835282610305565b6040519182917f08c379a000000000000000000000000000000000000000000000000000000000835260048301610137565b0390fd5b48106105035761043861043f9161042e565b6104ed6105146104bb6104536105d3565b7f3a6561726c790000000000000000000000000000000000000000000000000000815260060190565b91909161054b368483610397565b906010825110610575576010610565920151933691610397565b6020815110610575576020015190565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743132385f6f75744f66426f756e647300000000000000000000006044820152fd5b604051906105e0826102e4565b600f82527f506c756742617365466565467573650000000000000000000000000000000000602083015256fea164736f6c6343000817000a";

    bytes32 internal constant PLUG_BASE_FEE_FUSE_SALT =
        0x0000000000000000000000000000000000000000bf905d781ef5ff3fc78f81f6;

    address internal constant PLUG_BASE_FEE_FUSE_ADDRESS =
        0x00a299D035DA288a65a614D3C77d8858816Fa614;

    bytes internal constant PLUG_BLOCK_NUMBER_FUSE_INITCODE =
        hex"6080806040523461001657610619908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a575080631323692a146100455763e5c5e9a31461004057600080fd5b610223565b610181565b346100d6577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906060823601126100d65767ffffffffffffffff6004358181116100dd5761009c9036906004016100e1565b9290936024359283116100d95760609083360301126100d6576100d26100c66004840185876103fc565b60405191829182610137565b0390f35b80fd5b5080fd5b8280fd5b9181601f8401121561010f5782359167ffffffffffffffff831161010f576020838186019501011161010f57565b600080fd5b60005b8381106101275750506000910152565b8181015183820152602001610117565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f6040936020845261017a8151809281602088015260208888019101610114565b0116010190565b3461010f5760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f576004356fffffffffffffffffffffffffffffffff808216820361010f57602435908116810361010f576100d291604051917fffffffffffffffffffffffffffffffff00000000000000000000000000000000809260801b16602084015260801b166030820152602081526100c6816102e4565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f5760043567ffffffffffffffff811161010f5761027d61027760409236906004016100e1565b9061053d565b82516fffffffffffffffffffffffffffffffff928316815291166020820152f35b906102b160209282815194859201610114565b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff82111761030057604052565b6102b5565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761030057604052565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010f570180359067ffffffffffffffff821161010f5760200191813603831361010f57565b92919267ffffffffffffffff821161030057604051916103df60207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8401160184610305565b82948184528183011161010f578281602093846000960137010152565b906104069161053d565b6fffffffffffffffffffffffffffffffff90811691166104f15743116104425761043861043f915b6040810190610346565b3691610397565b90565b6104ed6104666104bb6104536105d3565b61048f604051938492602084019061029e565b7f3a65787069726564000000000000000000000000000000000000000000000000815260080190565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08101835282610305565b6040519182917f08c379a000000000000000000000000000000000000000000000000000000000835260048301610137565b0390fd5b43106105035761043861043f9161042e565b6104ed6105146104bb6104536105d3565b7f3a6561726c790000000000000000000000000000000000000000000000000000815260060190565b91909161054b368483610397565b906010825110610575576010610565920151933691610397565b6020815110610575576020015190565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743132385f6f75744f66426f756e647300000000000000000000006044820152fd5b604051906105e0826102e4565b601382527f506c7567426c6f636b4e756d6265724675736500000000000000000000000000602083015256fea164736f6c6343000817000a";

    bytes32 internal constant PLUG_BLOCK_NUMBER_FUSE_SALT =
        0x00000000000000000000000000000000000000002ec2bc452ae9ff3faf322604;

    address internal constant PLUG_BLOCK_NUMBER_FUSE_ADDRESS =
        0x021475140E594F0050381621cc1769f1Fe00937b;

    bytes internal constant PLUG_CLAMP_FUSE_INITCODE =
        hex"60808060405234610016576104a3908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a57508063dc0aa2af146100455763e5c5e9a31461004057600080fd5b61020e565b610190565b346100d6577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906060823601126100d65767ffffffffffffffff6004358181116100dd5761009c9036906004016100e1565b9290936024359283116100d95760609083360301126100d6576100d26100c66004840185876103a5565b60405191829182610114565b0390f35b80fd5b5080fd5b8280fd5b9181601f8401121561010f5782359167ffffffffffffffff831161010f576020838186019501011161010f57565b600080fd5b60208082528251818301819052939260005b858110610166575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b818101830151848201604001528201610126565b919082604091031261010f576020823592013590565b3461010f5760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f57604080516004356020820152602435918101919091526100d2906100c681606081015b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe081018352826102fa565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f5760043567ffffffffffffffff811161010f576102606102689136906004016100e1565b81019061017a565b60408051928352602083019190915290f35b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010f570180359067ffffffffffffffff821161010f5760200191813603831361010f57565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761033b57604052565b6102cb565b92919267ffffffffffffffff821161033b576040519161038860207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f84011601846102fa565b82948184528183011161010f578281602093846000960137010152565b6103b19181019061017a565b919060408201926103cc6103c5858561027a565b3691610340565b6020815110610438576020015190808211610417575081116103f957506103f6916103c59161027a565b90565b6101e292506103f69150604051928391602083019190602083019252565b9150506101e292506103f69150604051928391602083019190602083019252565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743235365f6f75744f66426f756e647300000000000000000000006044820152fdfea164736f6c6343000817000a";

    bytes32 internal constant PLUG_CLAMP_FUSE_SALT =
        0x00000000000000000000000000000000000000000010f3238dffff3f9b6d1119;

    address internal constant PLUG_CLAMP_FUSE_ADDRESS =
        0x0D1D00D9f37c8155b71a7Ae3c955002061dF77A0;

    bytes internal constant PLUG_FACTORY_INITCODE =
        hex"608080604052346100165761038a908161001c8239f35b600080fdfe60406080815260048036101561001457600080fd5b6000803560e01c806375fd9f281461030f5780637ac4ed64146102255763b03110791461004057600080fd5b60607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261022257610072610355565b916024359273ffffffffffffffffffffffffffffffffffffffff928385169182860361021e57604435918260601c80851490151715610211578088517fcc3735a920a3ca505d382bbc545af43d6000803e6038573d6000fd5b3d6000f36060527f5155f3363d3d373d3d363d7f360894a13ba1a3210667c828492db98dca3e20768a5261600960205283601e5268603d3d8160223d3973600a52605f96602192605f60212060358401523060581b835260ff835386601584015260558320983415948a3b156101ef575050506001926101e95783388180348c5af1156101de57505b895281606052159687610175575b5050505050835192158352166020820152f35b6014526fc4d66de8000000000000000000000000815280386024601083895af1156101d257506020857f32c7564be3bbeabe66360c08d019367b0d744fcb948046d92552c00c9743dd109289519485521692a33880808080610162565b87903d9082513e3d9051fd5b63b12d13eb8452601cfd5b50610154565b909194508792995034f59687156102065750610154565b63301164258452601cfd5b630c4549ef90526004601cfd5b5080fd5b80fd5b50823461021e57807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261021e579073ffffffffffffffffffffffffffffffffffffffff6020926102ec610279610355565b90604051917fcc3735a920a3ca505d382bbc545af43d6000803e6038573d6000fd5b3d6000f36060527f5155f3363d3d373d3d363d7f360894a13ba1a3210667c828492db98dca3e2076604052616009602052601e5268603d3d8160223d3973600a52605f602120916040526000606052565b60ff84536035523060601b60015260243560155260558320926035525191168152f35b50823461021e5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261021e5760209061034e610279610355565b9051908152f35b6004359073ffffffffffffffffffffffffffffffffffffffff8216820361037857565b600080fdfea164736f6c6343000817000a";

    bytes32 internal constant PLUG_FACTORY_SALT =
        0x00000000000000000000000000000000000000002c67a47269feff3f7d4b7a5d;

    address internal constant PLUG_FACTORY_ADDRESS =
        0x12FB0900b52e808B0F950099b515b2300BcfE0c6;

    bytes internal constant PLUG_LIMITED_CALLS_FUSE_INITCODE =
        hex"6080806040523461001657610514908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a57508063deb21fa2146100455763e5c5e9a31461004057600080fd5b610209565b610179565b346100d9577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc6060813601126100dc5767ffffffffffffffff916004358381116100dc5761009c9036906004016100e0565b9190926024359485116100dc5760609085360301126100d9576100d56100c960443560048701858761038b565b60405191829182610113565b0390f35b80fd5b5080fd5b9181601f8401121561010e5782359167ffffffffffffffff831161010e576020838186019501011161010e57565b600080fd5b60208082528251818301819052939260005b858110610165575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b818101830151848201604001528201610125565b3461010e5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010e57604051600435602082015260208152604081019080821067ffffffffffffffff831117610204577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc090826040526101ff8184610113565b030190f35b6102eb565b3461010e5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010e5760043567ffffffffffffffff811161010e5761026361025d60209236906004016100e0565b9061048e565b604051908152f35b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010e570180359067ffffffffffffffff821161010e5760200191813603831361010e57565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b92919267ffffffffffffffff918281116102045760405192601f82017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0908116603f01168401908111848210176102045760405282948184528183011161010e578281602093846000960137010152565b906103989193929361048e565b903360005260006020526040600020906000526020526040600020908154917fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8314610489576001830190551115610405576103fb81604061040293019061029a565b369161031a565b90565b60846040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602360248201527f506c75674c696d6974656443616c6c73467573653a6c696d69742d657863656560448201527f64656400000000000000000000000000000000000000000000000000000000006064820152fd5b61026b565b61049991369161031a565b60208151106104a9576020015190565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743235365f6f75744f66426f756e647300000000000000000000006044820152fdfea164736f6c6343000817000a";

    bytes32 internal constant PLUG_LIMITED_CALLS_FUSE_SALT =
        0x00000000000000000000000000000000000000004b66d57305daff3f66348b5f;

    address internal constant PLUG_LIMITED_CALLS_FUSE_ADDRESS =
        0x0000E36360659dfBF93Be0F5656b51C5CBa58793;

    bytes internal constant PLUG_NOUNS_ID_FUSE_INITCODE =
        hex"6080806040523461001657610572908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a57508063deb21fa2146100455763e5c5e9a31461004057600080fd5b61020a565b61017a565b346100d6577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906060823601126100d65767ffffffffffffffff6004358181116100dd5761009c9036906004016100e1565b9290936024359283116100d95760609083360301126100d6576100d26100c66004840185876103f7565b60405191829182610114565b0390f35b80fd5b5080fd5b8280fd5b9181601f8401121561010f5782359167ffffffffffffffff831161010f576020838186019501011161010f57565b600080fd5b60208082528251818301819052939260005b858110610166575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b818101830151848201604001528201610126565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f57604051600435602082015260208152604081019080821067ffffffffffffffff831117610205577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc090826040526102008184610114565b030190f35b61026c565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f5760043567ffffffffffffffff811161010f5761026461025e60209236906004016100e1565b906104ec565b604051908152f35b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761020557604052565b156102e357565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601c60248201527f4e6f756e73546f6b656e49643a696e76616c69642d6e6f756e2d6964000000006044820152fd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010f570180359067ffffffffffffffff821161010f5760200191813603831361010f57565b92919267ffffffffffffffff821161020557604051916103da60207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116018461029b565b82948184528183011161010f578281602093846000960137010152565b90604051917f7d9f6db500000000000000000000000000000000000000000000000000000000835260c08360048173830bd73e4184cef73443c15111a1df14e495c7065afa9283156104e05760009361047b575b50610471926104616104789593610467936104ec565b146102dc565b6040810190610341565b3691610392565b90565b909260c0823d60c0116104d8575b8161049660c0938361029b565b810103126100d657815191608081015173ffffffffffffffffffffffffffffffffffffffff8116036100d95760a00151801515036100d657509161046761044b565b3d9150610489565b6040513d6000823e3d90fd5b6104f7913691610392565b6020815110610507576020015190565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743235365f6f75744f66426f756e647300000000000000000000006044820152fdfea164736f6c6343000817000a";

    bytes32 internal constant PLUG_NOUNS_ID_FUSE_SALT =
        0x0000000000000000000000000000000000000000006311c85be7ff3f8f284eb5;

    address internal constant PLUG_NOUNS_ID_FUSE_ADDRESS =
        0x6896FB00A76cdbC36883e034A6ad517bb300A44F;

    bytes internal constant PLUG_NOUNS_TRAIT_FUSE_INITCODE =
        hex"60803461007457601f610ef838819003918201601f19168301916001600160401b038311848410176100795780849260209460405283398101031261007457516001600160a01b0381169081900361007457600080546001600160a01b031916919091179055604051610e6890816100908239f35b600080fd5b634e487b7160e01b600052604160045260246000fdfe6040608081526004908136101561001557600080fd5b600091823560e01c806304f9e59d1461075957806311aecce2146105ff57806325692962146105b45780633c41e6c91461059757806354d1f13d1461055157806362ecde7914610534578063715018a6146104d35780637600a734146104b65780638da5cb5b14610462578063ad9de14514610445578063bceac72e1461034a578063c0e7feed14610323578063e5c5e9a3146102d6578063e6b1a3ae14610272578063f04e283e146101c7578063f2fde38b146101275763fee81cf4146100dc57600080fd5b34610123576020600319360112610123573573ffffffffffffffffffffffffffffffffffffffff811681036101235760209263389a75e1600c525281600c20549051908152f35b8280fd5b838260206003193601126101c35780359073ffffffffffffffffffffffffffffffffffffffff8216918281036101bf5761015f610e23565b60601b156101b457507fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08580a35580f35b637448fbae8352601cfd5b8380fd5b5080fd5b838260206003193601126101c35780359073ffffffffffffffffffffffffffffffffffffffff8216918281036101bf576101ff610e23565b63389a75e1600c5283526020600c20908154421161026757508290557fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08580a35580f35b636f5e88188452601cfd5b8382346101c35760206003193601126101c3573573ffffffffffffffffffffffffffffffffffffffff81168091036101c3576102ac610e23565b7fffffffffffffffffffffffff000000000000000000000000000000000000000082541617815580f35b5082346103205760206003193601126103205781359067ffffffffffffffff821161032057506103149161030c9136910161086a565b810190610a1b565b82519182526020820152f35b80fd5b509134610320576020600319360112610320575061034360209235610a7e565b9051908152f35b50823461032057826003193601126103205750803590610368610903565b820361039d575b508161039992519160208301526024358183015280825261038f82610776565b519182918261089d565b0390f35b6103a561098f565b82036103b1575b61036f565b6103b96109d5565b821461036f576103c761081e565b82146103ac576103d5610949565b82146103ac576104419083519182917f08c379a0000000000000000000000000000000000000000000000000000000008352820160609060208152601f60208201527f4e6f756e735472616974467573653a696e76616c69642d73656c6563746f720060408201520190565b0390fd5b5050346101c357816003193601126101c3576020906103436109d5565b5050346101c357816003193601126101c35760209073ffffffffffffffffffffffffffffffffffffffff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffff7487392754915191168152f35b5050346101c357816003193601126101c35760209061034361098f565b8380600319360112610320576104e7610e23565b807fffffffffffffffffffffffffffffffffffffffffffffffffffffffff748739278181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a35580f35b5050346101c357816003193601126101c357602090610343610949565b83806003193601126103205763389a75e1600c52338152806020600c2055337ffa7b8eab7da67f412cc9575ed43464468f9bfbae89d1675917346ca6d8fe3c928280a280f35b5050346101c357816003193601126101c357602090610343610903565b83806003193601126103205763389a75e1600c523381526202a30042016020600c2055337fdbf36a107da19e49527a7176a1babf963b4b0ff8cde35ee35d6cd8f1f9ac7e1d8280a280f35b509034610123576003196060813601126101bf5767ffffffffffffffff9083358281116106f457610633903690860161086a565b906024359184831161075557606083360394850112610755578161065c91610663930190610a1b565b9190610a7e565b036106f8577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdd604482013592018212156106f45701928301359081116101bf576024830181360381136106f0576106b982610a31565b936106c6845195866107dd565b82855260248336920101116106f0578161039995926020928387013784010152519182918261089d565b8480fd5b8580fd5b60648560208651917f08c379a0000000000000000000000000000000000000000000000000000000008352820152601c60248201527f4e6f756e735472616974467573653a696e76616c69642d7472616974000000006044820152fd5b8780fd5b5050346101c357816003193601126101c35760209061034361081e565b6060810190811067ffffffffffffffff82111761079257604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6080810190811067ffffffffffffffff82111761079257604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761079257604052565b604051602081019060208252601860408201527f6163636573736f72792875696e7432353620696e646578290000000000000000606082015260608152610864816107c1565b51902090565b9181601f840112156108985782359167ffffffffffffffff8311610898576020838186019501011161089857565b600080fd5b60208082528251818301819052939260005b8581106108ef575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b8181018301518482016040015282016108af565b604051602081019060208252601360408201527f686561642875696e7432353620696e6465782900000000000000000000000000606082015260608152610864816107c1565b604051602081019060208252601960408201527f6261636b67726f756e642875696e7432353620696e6465782900000000000000606082015260608152610864816107c1565b604051602081019060208252601660408201527f676c61737365732875696e7432353620696e6465782900000000000000000000606082015260608152610864816107c1565b604051602081019060208252601360408201527f626f64792875696e7432353620696e6465782900000000000000000000000000606082015260608152610864816107c1565b9190826040910312610898576020823592013590565b67ffffffffffffffff811161079257601f017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe01660200190565b519065ffffffffffff8216820361089857565b60409081517f7d9f6db500000000000000000000000000000000000000000000000000000000815260c08160048173830bd73e4184cef73443c15111a1df14e495c7065afa908115610db757600091610dc2575b508251907ff0503e80000000000000000000000000000000000000000000000000000000008252600482015260a081602481739c8ff314c9bc7f6e59a9d9225fb22946427edc035afa8015610db7576000808080948194610d40575b50610b37610903565b8603610c4a575050505060009165ffffffffffff839216905b8451917fffffffff000000000000000000000000000000000000000000000000000000006020840192168252602483015260248252610b8e82610776565b73ffffffffffffffffffffffffffffffffffffffff8354169151915afa903d15610c42573d91610bbd83610a31565b92610bca835194856107dd565b83523d6000602085013e5b15610be557506020815191012090565b606490517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152602060248201527f4e6f756e735472616974467573653a74726169742d63616c6c2d6661696c65646044820152fd5b606091610bd5565b9091929350610c5761098f565b8503610c735750505060009165ffffffffffff83921690610b50565b90919250610c7f6109d5565b8403610c9a57505060009165ffffffffffff83921690610b50565b909150610ca561081e565b8303610cbf575060009165ffffffffffff83921690610b50565b9050610cc9610949565b8203610ce25760009165ffffffffffff83921690610b50565b82517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601f60248201527f4e6f756e735472616974467573653a696e76616c69642d73656c6563746f72006044820152606490fd5b94509250505060a0823d60a011610daf575b81610d5f60a093836107dd565b810103126103205750610d7181610a6b565b90610d7e60208201610a6b565b90610d8a858201610a6b565b90610da36080610d9c60608401610a6b565b9201610a6b565b93929190939238610b2e565b3d9150610d52565b83513d6000823e3d90fd5b9060c0823d60c011610e1b575b81610ddc60c093836107dd565b8101031261032057815191608081015173ffffffffffffffffffffffffffffffffffffffff8116036101c35760a0015180151503610320575038610ad2565b3d9150610dcf565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffff74873927543303610e4d57565b6382b429006000526004601cfdfea164736f6c6343000817000a";

    bytes32 internal constant PLUG_NOUNS_TRAIT_FUSE_SALT =
        0x000000000000000000000000000000000000000073924bcd6af4ff3fbd941bf8;

    address internal constant PLUG_NOUNS_TRAIT_FUSE_ADDRESS =
        0x000Fda10E757Bc9dfe83e892F172C2CB5b8eAD37;

    bytes internal constant PLUG_REVOCATION_FUSE_INITCODE =
        hex"6080806040523461001657610594908161001c8239f35b600080fdfe6040608081526004908136101561001557600080fd5b6000803560e01c8063108335b61461041e57806311aecce21461021a57806334e248531461014657806343b7af88146100d35763e5c5e9a31461005757600080fd5b346100d05760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126100d05782359067ffffffffffffffff82116100d057506100c86100c060209473ffffffffffffffffffffffffffffffffffffffff9336910161049f565b81019061055b565b169051908152f35b80fd5b50903461014257807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101425760ff8160209373ffffffffffffffffffffffffffffffffffffffff610126610538565b1681528085528181206024358252855220541690519015158152f35b5080fd5b5090346101425760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101425761017f610538565b9073ffffffffffffffffffffffffffffffffffffffff815192166020830152602082528082019282841067ffffffffffffffff8511176101ee575090827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc092526101e981846104d2565b030190f35b806041867f4e487b71000000000000000000000000000000000000000000000000000000006024945252fd5b5091903461041a577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc6060813601126104165767ffffffffffffffff9083358281116103b15761026d903690860161049f565b90602435918483116104125760608336039485011261041257816102a89173ffffffffffffffffffffffffffffffffffffffff93019061055b565b16865285602052838620604435875260205260ff84872054166103b5577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdd604482013592018212156103b157019083820135918183116103b157602481019183360383136103ad57845195601f85017fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0908116603f011687019182118783101761038157508452828552602483369201011161037d57816103799592602092838701378401015251918291826104d2565b0390f35b8480fd5b8760416024927f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8680fd5b8580fd5b60648560208651917f08c379a0000000000000000000000000000000000000000000000000000000008352820152601a60248201527f506c75675265766f636174696f6e467573653a7265766f6b65640000000000006044820152fd5b8780fd5b8380fd5b8280fd5b5091903461041a57807ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261041a576024359182151580930361041657338452836020528184209035845260205282209060ff7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00835416911617905580f35b9181601f840112156104cd5782359167ffffffffffffffff83116104cd57602083818601950101116104cd57565b600080fd5b60208082528251818301819052939260005b858110610524575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b8181018301518482016040015282016104e4565b6004359073ffffffffffffffffffffffffffffffffffffffff821682036104cd57565b908160209103126104cd573573ffffffffffffffffffffffffffffffffffffffff811681036104cd579056fea164736f6c6343000817000a";

    bytes32 internal constant PLUG_REVOCATION_FUSE_SALT =
        0x00000000000000000000000000000000000000009f91f5186babff3f94b721fd;

    address internal constant PLUG_REVOCATION_FUSE_ADDRESS =
        0x003B8049b161073DA03dafF27630Af953c0c3f1d;

    bytes internal constant PLUG_TIMESTAMP_FUSE_INITCODE =
        hex"6080806040523461001657610619908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461004a575080631323692a146100455763e5c5e9a31461004057600080fd5b610223565b610181565b346100d6577ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc906060823601126100d65767ffffffffffffffff6004358181116100dd5761009c9036906004016100e1565b9290936024359283116100d95760609083360301126100d6576100d26100c66004840185876103fc565b60405191829182610137565b0390f35b80fd5b5080fd5b8280fd5b9181601f8401121561010f5782359167ffffffffffffffff831161010f576020838186019501011161010f57565b600080fd5b60005b8381106101275750506000910152565b8181015183820152602001610117565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f6040936020845261017a8151809281602088015260208888019101610114565b0116010190565b3461010f5760407ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f576004356fffffffffffffffffffffffffffffffff808216820361010f57602435908116810361010f576100d291604051917fffffffffffffffffffffffffffffffff00000000000000000000000000000000809260801b16602084015260801b166030820152602081526100c6816102e4565b3461010f5760207ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261010f5760043567ffffffffffffffff811161010f5761027d61027760409236906004016100e1565b9061053d565b82516fffffffffffffffffffffffffffffffff928316815291166020820152f35b906102b160209282815194859201610114565b0190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff82111761030057604052565b6102b5565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761030057604052565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe18136030182121561010f570180359067ffffffffffffffff821161010f5760200191813603831361010f57565b92919267ffffffffffffffff821161030057604051916103df60207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8401160184610305565b82948184528183011161010f578281602093846000960137010152565b906104069161053d565b6fffffffffffffffffffffffffffffffff90811691166104f15742116104425761043861043f915b6040810190610346565b3691610397565b90565b6104ed6104666104bb6104536105d3565b61048f604051938492602084019061029e565b7f3a65787069726564000000000000000000000000000000000000000000000000815260080190565b037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe08101835282610305565b6040519182917f08c379a000000000000000000000000000000000000000000000000000000000835260048301610137565b0390fd5b42106105035761043861043f9161042e565b6104ed6105146104bb6104536105d3565b7f3a6561726c790000000000000000000000000000000000000000000000000000815260060190565b91909161054b368483610397565b906010825110610575576010610565920151933691610397565b6020815110610575576020015190565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743132385f6f75744f66426f756e647300000000000000000000006044820152fd5b604051906105e0826102e4565b601182527f506c756754696d657374616d7046757365000000000000000000000000000000602083015256fea164736f6c6343000817000a";

    bytes32 internal constant PLUG_TIMESTAMP_FUSE_SALT =
        0x0000000000000000000000000000000000000000793a628b9df7ff3ff51643c5;

    address internal constant PLUG_TIMESTAMP_FUSE_ADDRESS =
        0x00F229320C1331011219FC27BC24BD7d2d2B4eba;

    bytes internal constant PLUG_VAULT_SOCKET_INITCODE =
        hex"6080604081815234620001b9576000906001825260209260018452818320601060ff198254161790556001638b78c6d819556001837f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08180a382546200017757508051926200006e84620001be565b600f8452808401916e141b1d59d5985d5b1d14dbd8dad95d608a1b83528051926200009984620001be565b6005845264302e302e3160d81b83850190815282516001600160401b03979192919060808101898111828210176200016357855281815286868201524685820152606030910152519020935190208151928301937f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f85528284015260608301524660808301523060a083015260a0825260c0820194828610908611176200014f5784905251902090556121fd9081620001f18239f35b634e487b7160e01b84526041600452602484fd5b634e487b7160e01b89526041600452602489fd5b62461bcd60e51b815260048101849052601d60248201527f506c756754797065733a616c72656164792d696e697469616c697a65640000006044820152606490fd5b600080fd5b604081019081106001600160401b03821117620001da57604052565b634e487b7160e01b600052604160045260246000fdfe6080604052600436101561001e575b361561001c5761001c611c00565b005b60003560e01c806306fdde03146101fe5780631560ad10146101f957806325692962146101f45780632860ffee146101ef57806332e53610146101ea57806334bb3700146101e557806339817f40146101e05780633c33c9ce146101db5780633e1fd9fe146101d6578063450e94e9146101d15780634f83297b146101cc578063517e9c19146101c757806354d1f13d146101c257806354fd4d50146101bd578063558ab7b4146101b857806355ae66f7146101b3578063715018a6146101ae57806385dfc4c2146101a95780638da5cb5b146101a457806395d89b411461019f5780639a6ea6b11461019a578063af96223814610195578063be4c608614610190578063c2fb26a61461018b578063c4d66de814610186578063dfe86ac514610181578063ebc804191461017c578063f04e283e14610177578063f2fde38b146101725763fee81cf40361000e5761143d565b611358565b611304565b6112a9565b61128b565b611139565b611076565b611028565b610fed565b610ef4565b610e42565b610e0a565b610dcf565b610d88565b610c05565b610b31565b610b15565b610ace565b610a5d565b610a45565b610a0a565b6109cf565b610974565b61095c565b61087c565b610846565b6105d7565b610349565b6102c3565b61025f565b60005b8381106102165750506000910152565b8181015183820152602001610206565b90601f19601f60209361024481518092818752878088019101610203565b0116010190565b90602061025c928181520190610226565b90565b346102935760006003193601126102935761028f61027b611474565b604051918291602083526020830190610226565b0390f35b600080fd5b73ffffffffffffffffffffffffffffffffffffffff81160361029357565b35906102c182610298565b565b34610293576040600319360112610293576004356102e081610298565b60243560ff811681036102935773ffffffffffffffffffffffffffffffffffffffff61001c9261030e611c2d565b16600052600160205260406000209060ff167fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00825416179055565b6000806003193601126103955763389a75e1600c523381526202a30042016020600c2055337fdbf36a107da19e49527a7176a1babf963b4b0ff8cde35ee35d6cd8f1f9ac7e1d8280a280f35b80fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff8211176103e357604052565b610398565b6060810190811067ffffffffffffffff8211176103e357604052565b6080810190811067ffffffffffffffff8211176103e357604052565b610120810190811067ffffffffffffffff8211176103e357604052565b90601f601f19910116810190811067ffffffffffffffff8211176103e357604052565b6040519060e0820182811067ffffffffffffffff8211176103e357604052565b604051906102c182610404565b67ffffffffffffffff81116103e35760051b60200190565b67ffffffffffffffff81116103e357601f01601f191660200190565b81601f82011215610293578035906104d8826104a5565b926104e6604051948561043d565b8284526020838301011161029357816000926020809301838601378301015290565b91906040838203126102935760405190610521826103c7565b8193803561052e81610298565b835260208101359167ffffffffffffffff83116102935760209261055292016104c1565b910152565b81601f82011215610293578035916020916105718461048d565b9361057f604051958661043d565b808552838086019160051b8301019280841161029357848301915b8483106105aa5750505050505090565b823567ffffffffffffffff81116102935786916105cc84848094890101610508565b81520192019161059a565b346102935760206003193601126102935760043567ffffffffffffffff81116102935761061261060d6020923690600401610557565b61152c565b604051908152f35b91906060838203126102935760405190610633826103e8565b8193803561064081610298565b83526020810135602084015260408101359167ffffffffffffffff83116102935760409261055292016104c1565b91906040838203126102935760405190610687826103c7565b819380359167ffffffffffffffff9283811161029357816106a991840161061a565b84526020820135928311610293576020926105529201610557565b81601f82011215610293578035916020916106de8461048d565b936106ec604051958661043d565b808552838086019160051b8301019280841161029357848301915b8483106107175750505050505090565b823567ffffffffffffffff81116102935786916107398484809489010161066e565b815201920191610707565b91909160e08184031261029357610759610460565b92610763826102b6565b845260208201359167ffffffffffffffff83116102935761078b60c0926107be9483016106c4565b602086015260408101356040860152606081013560608601526080810135608086015260a081013560a0860152016102b6565b60c0830152565b919060408382031261029357604051906107de826103c7565b819380359167ffffffffffffffff928381116102935781610800918401610744565b845260208201359283116102935760209261055292016104c1565b6020600319820112610293576004359067ffffffffffffffff82116102935761025c916004016107c5565b3461029357602061085e6108593661081b565b611575565b73ffffffffffffffffffffffffffffffffffffffff60405191168152f35b34610293576003196020813601126102935760043567ffffffffffffffff91828211610293576080908236030112610293576040516108ba81610404565b8160040135838111610293576108d690600436918501016104c1565b81526024820135928311610293576064610921926108fd61028f95600436918401016104c1565b602084015260448101356040840152013561091781610298565b6060820152611657565b6040519081529081906020820190565b6020600319820112610293576004359067ffffffffffffffff82116102935761025c91600401610744565b3461029357602061061261096f36610931565b6116f3565b346102935760206003193601126102935773ffffffffffffffffffffffffffffffffffffffff6004356109a681610298565b166000526001602052604080600020546001808351928180821614845260041c16146020820152f35b346102935760206003193601126102935760043567ffffffffffffffff811161029357610612610a056020923690600401610508565b61179c565b346102935760206003193601126102935760043567ffffffffffffffff811161029357610612610a40602092369060040161061a565b611803565b34610293576020610612610a5836610931565b61188c565b34610293576020610a6d3661081b565b81610a7882516116f3565b91015182815191012060405190838201927f9826b78cb7c16c81b780befb1a76a98667ee53dc94480b2e7606856e1110a48584526040830152606082015260608152610ac381610404565b519020604051908152f35b6000806003193601126103955763389a75e1600c52338152806020600c2055337ffa7b8eab7da67f412cc9575ed43464468f9bfbae89d1675917346ca6d8fe3c928280a280f35b346102935760006003193601126102935761028f61027b6118db565b3461029357600319602081360112610293576004359067ffffffffffffffff82116102935760409082360301126102935761085e61085960209236906004016107c5565b908160e09103126102935790565b6020808201906020835283518092526040830192602060408460051b8301019501936000915b848310610bb95750505050505090565b9091929394958480610bf5837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc086600196030187528a51610226565b9801930193019194939290610ba9565b6020806003193601126102935760043567ffffffffffffffff811161029357610c32903690600401610b75565b90610c6e610c693373ffffffffffffffffffffffffffffffffffffffff16600052600160205260018060406000205460041c161490565b611914565b68929eee149b4bd2126830815414610d7a57308155610c9e610c9361096f3686610744565b936020810190611c4a565b610ca9949194611c9e565b50600093610cb682611cbf565b945b828110610cd0573885556040518061028f8882610b83565b610cec610ce7610ce183868b611d08565b80611d48565b611d7b565b9260009560408501965b89610d0e610d05868684611d08565b87810190611c4a565b9050821015610d565790610d4d8888610d48610d4385610d3d610d348c8c60019b611d08565b8d810190611c4a565b90611d08565b611d86565b611f2d565b8a525001610cf6565b505095509290610d6760019261202a565b9050610d7382896114dc565b5201610cb8565b63ab143c066000526004601cfd5b60008060031936011261039557610d9d611c2d565b80638b78c6d8198181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a35580f35b346102935760206003193601126102935760043567ffffffffffffffff811161029357610612610e05602092369060040161066e565b611979565b34610293576000600319360112610293576020638b78c6d8195473ffffffffffffffffffffffffffffffffffffffff60405191168152f35b346102935760008060031936011261039557610e5c611474565b805160408051938285526020908094815b858110610ec157878760058111610eb9575b8015610ea6575b80601f199183528201610ea16020820193846040528461024b565b030190f35b5064504c55475360208201526004610e86565b506005610e7f565b838183010151831a605b811086821116610edf575b50600101610e6d565b8760019298918684938c010153019690610ed6565b60606003193601126102935760043567ffffffffffffffff811161029357610f20903690600401610b75565b602435610f2c81610298565b336000526001602052610f4a60ff6040600020541660018091161490565b8015610fd1575b15610f735761028f91610f6791604435916119d3565b60405191829182610b83565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f506c75673a696e76616c69642d726f75746572000000000000000000000000006044820152fd5b5072d53d85529e89cf07fbc55279558e3166e578213314610f51565b346102935760206003193601126102935760043567ffffffffffffffff81116102935761061261102360209236906004016106c4565b611bbd565b346102935760206003193601126102935773ffffffffffffffffffffffffffffffffffffffff60043561105a81610298565b166000526001602052602060ff60406000205416604051908152f35b3461029357600060031936011261029357611114604060006060825161109b81610404565b818152816020820152828482015201526110b3611474565b9073ffffffffffffffffffffffffffffffffffffffff6110d16118db565b918051936110de85610404565b84526020840192835261112781850193468552606086019230845280519788976020895251608060208a015260a0890190610226565b915190601f198884030190880152610226565b92516060850152511660808301520390f35b346102935760206003193601126102935773ffffffffffffffffffffffffffffffffffffffff60043561116b81610298565b6111bd8173ffffffffffffffffffffffffffffffffffffffff166000526001602052604060002060107fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00825416179055565b1680638b78c6d81955600090817f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08180a3805461122d576112286111ff611474565b6112076118db565b61120f610480565b9182526020820152466040820152306060820152611657565b815580f35b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601d60248201527f506c756754797065733a616c72656164792d696e697469616c697a65640000006044820152fd5b34610293576000600319360112610293576020600054604051908152f35b346102935760406003193601126102935760043580151581036102935760243590811515820361029357156112fc576001905b156112f4576010905b604051911760ff168152602090f35b6000906112e5565b6000906112dc565b60206003193601126102935760043561131c81610298565b611324611c2d565b63389a75e1600c52806000526020600c20908154421161134a57600061001c9255611e87565b636f5e88186000526004601cfd5b60206003193601126102935760043561137081610298565b73ffffffffffffffffffffffffffffffffffffffff9061141382638b78c6d819541692600093845260016020526001604085206113d882825416829060ff167fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00825416179055565b54166010179083168452604084209060ff167fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00825416179055565b61141b611c2d565b8060601b156114305761142d90611e87565b80f35b637448fbae82526004601cfd5b346102935760206003193601126102935760043561145a81610298565b63389a75e1600c52600052602080600c2054604051908152f35b60405190611481826103c7565b600f82527f506c75675661756c74536f636b657400000000000000000000000000000000006020830152565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b80518210156114f05760209160051b010190565b6114ad565b60406102c19193929381519481611516879351809260208087019101610203565b820190602082015203602081018552018361043d565b6060906000908051905b81831061154a575050506020815191012090565b90919261156c60019161156661156087866114dc565b5161179c565b906114f5565b93019190611536565b61157f815161188c565b60209182015160408051909390926001928591818401906115ca565b50505050506001608060006020935afa51913d156115bc5760006060525290565b638baa579f6000526004601cfd5b600052518252818151146116175760418151146115f6575050505060206001608060008093869261159b565b606080820151600090811a909452910151905260019084906020608061159b565b015160ff81901c601b019091527f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1660605260018360006020608061159b565b805160208151910120906020810151602081519101209073ffffffffffffffffffffffffffffffffffffffff6060604083015192015116906040519260208401947f8b73c3c69bb8fe3d512ecc4cf759cc79239f7b179b0ffacaa9a75d522b39400f865260408501526060840152608083015260a082015260a0815260c0810181811067ffffffffffffffff8211176103e35760405251902090565b73ffffffffffffffffffffffffffffffffffffffff90818151169161171b6020830151611bbd565b91604081015191606082015160808301519160c060a085015194015116936040519560208701977f29165ce48e11ce9215ea4a169bde0ffb8ecb167f7930f39b1c19168a6a526dd6895260408801526060870152608086015260a085015260c084015260e08301526101009081830152815261179681610420565b51902090565b602073ffffffffffffffffffffffffffffffffffffffff825116910151602081519101206040519060208201927f6a2e1450f9194ecc5758aac2b0935794f6d5706adcdd5968d7006542aacaa4638452604083015260608201526060815261179681610404565b73ffffffffffffffffffffffffffffffffffffffff8151169060406020820151910151602081519101206040519160208301937f4e1a9992657cd2dadc8cf749c3a5665c35d836a6aa5e695a1b318d00ea261fa485526040840152606083015260808201526080815260a0810181811067ffffffffffffffff8211176103e35760405251902090565b611898600054916116f3565b6040519060208201927f19010000000000000000000000000000000000000000000000000000000000008452602283015260428201526042815261179681610404565b604051906118e8826103c7565b600582527f302e302e310000000000000000000000000000000000000000000000000000006020830152565b1561191b57565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601360248201527f506c75673a696e76616c69642d7369676e6572000000000000000000000000006044820152fd5b61199060206119888351611803565b92015161152c565b6040519060208201927f92e7d74a30e1e523d60bcb5fbb30caa2f5fa9f5fbc4a5499c4e9b8b44b7640fd8452604083015260608201526060815261179681610404565b9190610c69611a0b9173ffffffffffffffffffffffffffffffffffffffff16600052600160205260018060406000205460041c161490565b68929eee149b4bd212689030825414610d7a5730825560c083013592611a3084610298565b611a3d61096f3683610744565b93602094611a4e6020840184611c4a565b611a59979197611c9e565b50600090611a6681611cbf565b985b818310611b1557505050505073ffffffffffffffffffffffffffffffffffffffff8116611a99575b50505038905590565b600080809392611ae4846060611adc611af599611ad760a0889a0135611abf4882611dc0565b60808701359182148a14611afd5750915b5a90611dd2565b611ddf565b910135611dc0565b905af1611aef611df2565b50611e22565b388080611a90565b8082108a14611b0e57505b91611ad0565b9050611b08565b919396979599611b30610ce7610ce18785879a96989a611d08565b96600099604089019a5b611b51611b48898989611d08565b8a810190611c4a565b9050811015611b8e5780611b858c8c610d48610d436001968f8f908f8f92611b7c91610d3d94611d08565b90810190611c4a565b8e525001611b3a565b5098949395909950611ba66001929c9897939761202a565b9050611bb2828d6114dc565b520191909293611a68565b6060906000908051905b818310611bdb575050506020815191012090565b909192611bf7600191611566611bf187866114dc565b51611979565b93019190611bc7565b60003560e01c63bc197c81811463f23a6e6182141763150b7a02821417611c245750565b6020526020603cf35b638b78c6d819543303611c3c57565b6382b429006000526004601cfd5b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610293570180359067ffffffffffffffff821161029357602001918160051b3603831361029357565b60405190611cab826103e8565b606060408360008152600060208201520152565b90611cc98261048d565b611cd6604051918261043d565b828152601f19611ce6829461048d565b019060005b828110611cf757505050565b806060602080938501015201611ceb565b91908110156114f05760051b810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc181360301821215610293570190565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa181360301821215610293570190565b61025c90369061061a565b61025c903690610508565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b91908201809211611dcd57565b611d91565b91908203918211611dcd57565b81810292918115918404141715611dcd57565b3d15611e1d573d90611e03826104a5565b91611e11604051938461043d565b82523d6000602084013e565b606090565b15611e2957565b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601860248201527f506c75673a636f6d70656e736174696f6e2d6661696c656400000000000000006044820152fd5b73ffffffffffffffffffffffffffffffffffffffff16638b78c6d8198181547f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0600080a355565b6020818303126102935780519067ffffffffffffffff8211610293570181601f82011215610293578051611f01816104a5565b92611f0f604051948561043d565b818452602082840101116102935761025c9160208085019101610203565b60009193927f11aecce20000000000000000000000000000000000000000000000000000000083611fa2611ffe829573ffffffffffffffffffffffffffffffffffffffff95611fea87835116976060604060209e8f80970151968251998a98828a019d8e528560248b015260848a0190610226565b947fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc8987030160448a0152825116855280820151908501520151918160408201520190610226565b90606483015203601f19810183528261043d565b51925af19161200b611df2565b90831561202457908161025c9282518301019101611ece565b506120ad565b6000809173ffffffffffffffffffffffffffffffffffffffff8151166040602083015192015191602083519301915af190612063611df2565b91801561206e579190565b826120ad565b60405190612081826103c7565b601b82527f506c7567436f72653a7461726765742d70616e69636b65642d307800000000006020830152565b60048151106121915760208101907f4e487b71000000000000000000000000000000000000000000000000000000007fffffffff0000000000000000000000000000000000000000000000000000000083511614612109575190fd5b61218d906024612117612074565b91015160208201907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff00008251916030600f81818416019260041c160160081b1791161790526040519182917f08c379a00000000000000000000000000000000000000000000000000000000083526004830161024b565b0390fd5b6040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152600f60248201527f506c7567436f72653a72657665727400000000000000000000000000000000006044820152606490fdfea164736f6c6343000817000a";

    bytes32 internal constant PLUG_VAULT_SOCKET_SALT =
        0x000000000000000000000000000000000000000065a55bc41ee4ff3f14895e24;

    address internal constant PLUG_VAULT_SOCKET_ADDRESS =
        0x003c2D9553Cb0C2C196c2b7D17e6f535892De5dC;

    bytes internal constant PLUG_WINDOW_FUSE_INITCODE =
        hex"6080806040523461001657610cf9908161001c8239f35b600080fdfe6080604052600436101561001257600080fd5b6000803560e01c90816311aecce21461009a57508063187ec818146100955780636158702c1461009057806361a769001461008b578063b8e9fccb14610086578063e8b27de414610081578063f395a30a1461007c5763f415fcb21461007757600080fd5b61062a565b610534565b6104d1565b6103a1565b610257565b61021c565b6101f6565b3461011b57606060031936011261011b576004359067ffffffffffffffff80831161011e573660238401121561011e5782600401359181831161011b57366024848601011161011b5760243591821161011b5761011761010b858560246101043660048901610122565b9201610771565b60405191829182610135565b0390f35b80fd5b5080fd5b908160609103126101305790565b600080fd5b60208082528251818301819052939260005b858110610187575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b818101830151848201604001528201610147565b6024359063ffffffff8216820361013057565b60031960809101126101305763ffffffff60043581811681036101305791602435828116810361013057916044359081168103610130579060643560ff811681036101305790565b34610130576020610212610209366101ae565b92919091610a45565b6040519015158152f35b3461013057602060031936011261013057602061021261020960043560ff811663ffffffff90818360081c1691808460281c169360481c1693565b3461013057602060031936011261013057608060ff61029160043560ff811663ffffffff90818360081c1691808460281c169360481c1693565b91906040949394519463ffffffff92838092168752166020860152166040840152166060820152f35b9060209182820190519280835283518092528060408094019401926000905b8382106102e857505050505090565b8451805163ffffffff908116885290840151168684015294850194938201936001909101906102d9565b9092919260408201604083528151809152606083019060608160051b850101926020809101926000905b83821061035757505050505063ffffffff6020919416910152565b90919293948380610392837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa08b6001960301865289516102ba565b9701920192019093929161033c565b34610130576040600319360112610130576103ba61019b565b63ffffffff808216907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe06104016103f86103f38561089b565b6106cd565b9380855261089b565b0160005b8181106104b657505061043360043560ff811663ffffffff90818360081c1691808460281c169360481c1693565b91929590959161044e6104468584610910565b864216610942565b96858816935b848782161061046c57604051806101178b8b83610312565b85816104ae8a61047e87878d97610bb4565b6104a76104a06104978b6104928989610989565b6109a3565b63ffffffff1690565b80936109b8565b528b6109b8565b500116610454565b6020906104c16106a8565b6060815282828701015201610405565b346101305760206003193601126101305760606104ec6106a8565b5261011761052061051860043560ff811663ffffffff90818360081c1691808460281c169360481c1693565b929050610bb4565b6040519182916020835260208301906102ba565b3461013057610542366101ae565b63ffffffff93919293908184169081156106005760ff169182156105d6578516106105ac5764ffffffff0093610117926cffffffff00000000000000000068ffffffff000000000060405197889760081b169360281b169160481b16171717829190602083019252565b60046040517f9961524d000000000000000000000000000000000000000000000000000000008152fd5b60046040517f0d877899000000000000000000000000000000000000000000000000000000008152fd5b60046040517fbf2b27fa000000000000000000000000000000000000000000000000000000008152fd5b346101305760606003193601126101305760043563ffffffff811681036101305761065361019b565b9060443560ff8116810361013057610117926105209260606106736106a8565b52610bb4565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b604051906020820182811067ffffffffffffffff8211176106c857604052565b610679565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f604051930116820182811067ffffffffffffffff8211176106c857604052565b92919267ffffffffffffffff82116106c85761075460207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f850116016106cd565b938285528282011161013057816000926020928387013784010152565b61077c913691610711565b602081511061083d5761020960206107af92015160ff811663ffffffff90818360081c1691808460281c169360481c1693565b15610813576040810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610130570180359067ffffffffffffffff821161013057602001813603811361013057610810913691610711565b90565b60046040517f3cb9a58a000000000000000000000000000000000000000000000000000000008152fd5b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f746f55696e743235365f6f75744f66426f756e647300000000000000000000006044820152fd5b67ffffffffffffffff81116106c85760051b60200190565b6108bb6106a8565b9060608252565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b906201518063ffffffff8093160291821691820361090b57565b6108c2565b91909163ffffffff8080941691160291821691820361090b57565b906201518063ffffffff8093160191821161090b57565b91909163ffffffff8080941691160191821161090b57565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b9063ffffffff80911691821561099e57160490565b61095a565b9063ffffffff80911691821561099e57160690565b80518210156109cc5760209160051b010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff63ffffffff8093160191821161090b57565b63ffffffff918216908216039190821161090b57565b9192909263ffffffff92834216928482168410610ad95783610a6691610cbd565b156105d657610a758184610a2f565b84861615610ac85785610a91610a9c94959697610a9693610989565b610910565b90610942565b9283168210159283610aaf575b50505090565b610abf9293509061049791610942565b11388080610aa9565b50610ad4929450610942565b161190565b60046040517ff60555a4000000000000000000000000000000000000000000000000000000008152fd5b90610b106103f38361089b565b8281527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0610b3e829461089b565b016000805b828110610b505750505050565b604090815182810181811067ffffffffffffffff8211176106c85760209352838152828481830152828701015201610b43565b63ffffffff16801561090b577fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0190565b9091610c959350610bc36108b3565b90610bce8484610942565b92620151808063ffffffff8097160494610be9878716610b03565b855287878216965b888116610c14610c09610c03846108f1565b88610942565b868c82160690610a2f565b90610c26610c22838a610cbd565b1590565b610cb657610c69610c64610c90938d808216908b1611600014610ca857610c5f8a610c53868f5b516109b8565b519063ffffffff169052565b61092b565b6109fb565b808c168b1015610c9c57506020610c8386925b8b516109b8565b51019063ffffffff169052565b610b83565b8890610bf1565b610c8360209192610c7c565b610c5f81610c53868f610c4d565b5050610b83565b63ffffffff916201518090831604821660040182811161090b5760ff600760019482869516931606161c16149056fea164736f6c6343000817000a";

    bytes32 internal constant PLUG_WINDOW_FUSE_SALT =
        0x00000000000000000000000000000000000000001d8b443eedfdff3f8076ad7d;

    address internal constant PLUG_WINDOW_FUSE_ADDRESS =
        0x0049Db2e3366478fF2608c183eFa2642F9775511;

    bytes internal constant PLUG_INITCODE =
        hex"6080806040523461001657610be0908161001c8239f35b600080fdfe608060409080825260048036101561001657600080fd5b600091823560e01c90816306fdde03146102e55750806357f8dc5e1461027757806395d89b41146101f85763fe5aa4221461005057600080fd5b602091827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101f557813567ffffffffffffffff928382116101f157366023830112156101f1578101359283116101ed5760246005933660248260051b850101116101e9579183906100c4846107e4565b956100d18951978861044f565b848752601f196100e0866107e4565b0188875b8281106101d9575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9d82360301925b8581106101995750505050505083519280840190808552835180925280868601968360051b870101940192955b82871061014f5785850386f35b909192938280610189837fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc08a6001960301865288516103a7565b9601920196019592919092610142565b8481831b84010135848112156101d557906101b9866001938601016107fc565b6101c3828b610b90565b526101ce818a610b90565b5001610115565b8780fd5b60608a82018301528a91016100e4565b8380fd5b5080fd5b8280fd5b80fd5b5082346101f157827ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101f157610273925080519161023983610404565b82527f504c554700000000000000000000000000000000000000000000000000000000602083015251918291602083526020830190610382565b0390f35b5082907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc926020843601126101f55781359367ffffffffffffffff85116101ed57839085360301126101f55750610273926102d291016107fc565b90519182916020835260208301906103a7565b91849150346101e957837ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126101e957610273935061032583610404565b82527f506c756700000000000000000000000000000000000000000000000000000000602083015251918291602083526020830190610382565b60005b8381106103725750506000910152565b8181015183820152602001610362565b90601f19601f6020936103a08151809281875287808801910161035f565b0116010190565b90808251908181526020809101926020808460051b8301019501936000915b8483106103d65750505050505090565b90919293949584806103f483601f1986600196030187528a51610382565b98019301930191949392906103c6565b6040810190811067ffffffffffffffff82111761042057604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90601f601f19910116810190811067ffffffffffffffff82111761042057604052565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff21813603018212156104a5570190565b600080fd5b3573ffffffffffffffffffffffffffffffffffffffff811681036104a55790565b359073ffffffffffffffffffffffffffffffffffffffff821682036104a557565b90357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1823603018112156104a557016020813591019167ffffffffffffffff82116104a5578160051b360383136104a557565b90357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1823603018112156104a557016020813591019167ffffffffffffffff82116104a55781360383136104a557565b601f8260209493601f19938186528686013760008582860101520116010190565b90357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc1823603018112156104a5570190565b9060e081019173ffffffffffffffffffffffffffffffffffffffff9081610608826104cb565b1683526020610619818301836104ec565b80919660e0848801525261010090818601926005928260051b8801019780946000915b84831061068757505050505050509061068060c0836040829501356040870152606081013560608701526080810135608087015260a081013560a0870152016104cb565b1691015290565b9091929394959a997fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff008a82030183526106c08c836105b0565b9060409180357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa1823603018112156104a5576107388261074292959495018486528d61070b826104cb565b16858701526107276060918b810135838901528681019061053f565b9091608088015260a087019161058f565b91888101906104ec565b9093888184039101528082528782019188828c1b8201019480946000915b848310610787575050505050505084806001929d9c9d9c019301930191959493929061063c565b909192939495968f8c6107d583866107c684956107b08f8f601f198f60019c030190528a6105b0565b906107ba826104cb565b1684528581019061053f565b9190928186820152019161058f565b99019701959493019190610760565b67ffffffffffffffff81116104205760051b60200190565b5a9073ffffffffffffffffffffffffffffffffffffffff90816108276108228380610472565b6104aa565b16918061083f60c06108398580610472565b016104aa565b1633148015610b78575b15610b1a576040908151927f558ab7b400000000000000000000000000000000000000000000000000000000845260049160249560209586600482015283357fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff21853603018112156104a557818061090c6108d08b948b6024850152896064850191016105e2565b6108dc858a018a61053f565b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffdc85840301604486015261058f565b0381855afa908115610b0f57600091610ad0575b50600061097091610932868397610472565b9088519b8c96879586947f9a6ea6b10000000000000000000000000000000000000000000000000000000086526060600487015260648601906105e2565b92166024840152604483015203925af1948515610ac557600095610997575b505050505090565b9490919293943d8083833e6109ac818361044f565b81019285828503126101f157815167ffffffffffffffff92838211610ac1570194601f9385601f880112156101f5578651956109e7876107e4565b996109f484519b8c61044f565b878b5289808c019860051b8a010198828a116101e9578a8101985b8a8a10610a2c57505050505050505050505050388080808061098f565b8951888111610abd57820184603f82011215610abd578c81015190898211610a9257908a91610a658f601f198b5195850116018461044f565b818352868983830101116101d55791610a878f949285948b868501910161035f565b815201990198610a0f565b848760418b7f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8580fd5b8480fd5b82513d6000823e3d90fd5b878181969495963d8311610b08575b610ae9818361044f565b810103126101ed57519084821682036101f55750909291906000610920565b503d610adf565b86513d6000823e3d90fd5b60646040517f08c379a000000000000000000000000000000000000000000000000000000000815260206004820152601560248201527f506c75673a696e76616c69642d6578656375746f7200000000000000000000006044820152fd5b5080610b8960c06108398580610472565b1615610849565b8051821015610ba45760209160051b010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fdfea164736f6c6343000817000a";

    bytes32 internal constant PLUG_SALT =
        0x00000000000000000000000000000000000000007d5301c2e5e5ff3f35e5e689;

    address internal constant PLUG_ADDRESS =
        0x00f140e87692075C2D200bf313839Db0d669a5Da;

    /**
     * @notice Deploy (if needed) and return the PlugBaseFeeFuse contract instance.
     * @return $plugBaseFeeFuse The PlugBaseFeeFuse contract instance.
     */
    function plugBaseFeeFuse()
        internal
        returns (PlugBaseFeeFuse $plugBaseFeeFuse)
    {
        if (_extcodesize(PLUG_BASE_FEE_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_BASE_FEE_FUSE_SALT, PLUG_BASE_FEE_FUSE_INITCODE
            );
            require(
                reality == PLUG_BASE_FEE_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugBaseFeeFuse = PlugBaseFeeFuse(payable(PLUG_BASE_FEE_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugBlockNumberFuse contract instance.
     * @return $plugBlockNumberFuse The PlugBlockNumberFuse contract instance.
     */
    function plugBlockNumberFuse()
        internal
        returns (PlugBlockNumberFuse $plugBlockNumberFuse)
    {
        if (_extcodesize(PLUG_BLOCK_NUMBER_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_BLOCK_NUMBER_FUSE_SALT, PLUG_BLOCK_NUMBER_FUSE_INITCODE
            );
            require(
                reality == PLUG_BLOCK_NUMBER_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugBlockNumberFuse =
            PlugBlockNumberFuse(payable(PLUG_BLOCK_NUMBER_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugClampFuse contract instance.
     * @return $plugClampFuse The PlugClampFuse contract instance.
     */
    function plugClampFuse() internal returns (PlugClampFuse $plugClampFuse) {
        if (_extcodesize(PLUG_CLAMP_FUSE_ADDRESS) == 0) {
            address reality =
                _safeCreate2(PLUG_CLAMP_FUSE_SALT, PLUG_CLAMP_FUSE_INITCODE);
            require(
                reality == PLUG_CLAMP_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugClampFuse = PlugClampFuse(payable(PLUG_CLAMP_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugFactory contract instance.
     * @return $plugFactory The PlugFactory contract instance.
     */
    function plugFactory() internal returns (PlugFactory $plugFactory) {
        if (_extcodesize(PLUG_FACTORY_ADDRESS) == 0) {
            address reality =
                _safeCreate2(PLUG_FACTORY_SALT, PLUG_FACTORY_INITCODE);
            require(
                reality == PLUG_FACTORY_ADDRESS, "Etcher: Reality check failed"
            );
        }
        $plugFactory = PlugFactory(payable(PLUG_FACTORY_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugLimitedCallsFuse contract instance.
     * @return $plugLimitedCallsFuse The PlugLimitedCallsFuse contract instance.
     */
    function plugLimitedCallsFuse()
        internal
        returns (PlugLimitedCallsFuse $plugLimitedCallsFuse)
    {
        if (_extcodesize(PLUG_LIMITED_CALLS_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_LIMITED_CALLS_FUSE_SALT, PLUG_LIMITED_CALLS_FUSE_INITCODE
            );
            require(
                reality == PLUG_LIMITED_CALLS_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugLimitedCallsFuse =
            PlugLimitedCallsFuse(payable(PLUG_LIMITED_CALLS_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugNounsIdFuse contract instance.
     * @return $plugNounsIdFuse The PlugNounsIdFuse contract instance.
     */
    function plugNounsIdFuse()
        internal
        returns (PlugNounsIdFuse $plugNounsIdFuse)
    {
        if (_extcodesize(PLUG_NOUNS_ID_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_NOUNS_ID_FUSE_SALT, PLUG_NOUNS_ID_FUSE_INITCODE
            );
            require(
                reality == PLUG_NOUNS_ID_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugNounsIdFuse = PlugNounsIdFuse(payable(PLUG_NOUNS_ID_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugNounsTraitFuse contract instance.
     * @return $plugNounsTraitFuse The PlugNounsTraitFuse contract instance.
     */
    function plugNounsTraitFuse()
        internal
        returns (PlugNounsTraitFuse $plugNounsTraitFuse)
    {
        if (_extcodesize(PLUG_NOUNS_TRAIT_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_NOUNS_TRAIT_FUSE_SALT, PLUG_NOUNS_TRAIT_FUSE_INITCODE
            );
            require(
                reality == PLUG_NOUNS_TRAIT_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugNounsTraitFuse =
            PlugNounsTraitFuse(payable(PLUG_NOUNS_TRAIT_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugRevocationFuse contract instance.
     * @return $plugRevocationFuse The PlugRevocationFuse contract instance.
     */
    function plugRevocationFuse()
        internal
        returns (PlugRevocationFuse $plugRevocationFuse)
    {
        if (_extcodesize(PLUG_REVOCATION_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_REVOCATION_FUSE_SALT, PLUG_REVOCATION_FUSE_INITCODE
            );
            require(
                reality == PLUG_REVOCATION_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugRevocationFuse =
            PlugRevocationFuse(payable(PLUG_REVOCATION_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugTimestampFuse contract instance.
     * @return $plugTimestampFuse The PlugTimestampFuse contract instance.
     */
    function plugTimestampFuse()
        internal
        returns (PlugTimestampFuse $plugTimestampFuse)
    {
        if (_extcodesize(PLUG_TIMESTAMP_FUSE_ADDRESS) == 0) {
            address reality = _safeCreate2(
                PLUG_TIMESTAMP_FUSE_SALT, PLUG_TIMESTAMP_FUSE_INITCODE
            );
            require(
                reality == PLUG_TIMESTAMP_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugTimestampFuse =
            PlugTimestampFuse(payable(PLUG_TIMESTAMP_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugVaultSocket contract instance.
     * @return $plugVaultSocket The PlugVaultSocket contract instance.
     */
    function plugVaultSocket()
        internal
        returns (PlugVaultSocket $plugVaultSocket)
    {
        if (_extcodesize(PLUG_VAULT_SOCKET_ADDRESS) == 0) {
            address reality =
                _safeCreate2(PLUG_VAULT_SOCKET_SALT, PLUG_VAULT_SOCKET_INITCODE);
            require(
                reality == PLUG_VAULT_SOCKET_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugVaultSocket = PlugVaultSocket(payable(PLUG_VAULT_SOCKET_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the PlugWindowFuse contract instance.
     * @return $plugWindowFuse The PlugWindowFuse contract instance.
     */
    function plugWindowFuse()
        internal
        returns (PlugWindowFuse $plugWindowFuse)
    {
        if (_extcodesize(PLUG_WINDOW_FUSE_ADDRESS) == 0) {
            address reality =
                _safeCreate2(PLUG_WINDOW_FUSE_SALT, PLUG_WINDOW_FUSE_INITCODE);
            require(
                reality == PLUG_WINDOW_FUSE_ADDRESS,
                "Etcher: Reality check failed"
            );
        }
        $plugWindowFuse = PlugWindowFuse(payable(PLUG_WINDOW_FUSE_ADDRESS));
    }

    /**
     * @notice Deploy (if needed) and return the Plug contract instance.
     * @return $plug The Plug contract instance.
     */
    function plug() internal returns (Plug $plug) {
        if (_extcodesize(PLUG_ADDRESS) == 0) {
            address reality = _safeCreate2(PLUG_SALT, PLUG_INITCODE);
            require(reality == PLUG_ADDRESS, "Etcher: Reality check failed");
        }
        $plug = Plug(payable(PLUG_ADDRESS));
    }

    /**
     * @notice Deploys a contract via 0age's immutable create 2 factory for testing.
     * @param $salt The salt to use for the deployment.
     * @param $initializationCode The initialization code for the contract.
     * @return $deployment The address of the deployed contract.
     */
    function _safeCreate2(
        bytes32 $salt,
        bytes memory $initializationCode
    )
        private
        returns (address $deployment)
    {
        // Canonical address of 0age's immutable create 2 factory.
        address c2f = 0x0000000000FFe8B47B3e2130213B802212439497;
        if (_extcodesize(c2f) == 0) {
            bytes memory ic2fBytecode =
                hex"60806040526004361061003f5760003560e01c806308508b8f1461004457806364e030871461009857806385cf97ab14610138578063a49a7c90146101bc575b600080fd5b34801561005057600080fd5b506100846004803603602081101561006757600080fd5b503573ffffffffffffffffffffffffffffffffffffffff166101ec565b604080519115158252519081900360200190f35b61010f600480360360408110156100ae57600080fd5b813591908101906040810160208201356401000000008111156100d057600080fd5b8201836020820111156100e257600080fd5b8035906020019184600183028401116401000000008311171561010457600080fd5b509092509050610217565b6040805173ffffffffffffffffffffffffffffffffffffffff9092168252519081900360200190f35b34801561014457600080fd5b5061010f6004803603604081101561015b57600080fd5b8135919081019060408101602082013564010000000081111561017d57600080fd5b82018360208201111561018f57600080fd5b803590602001918460018302840111640100000000831117156101b157600080fd5b509092509050610592565b3480156101c857600080fd5b5061010f600480360360408110156101df57600080fd5b508035906020013561069e565b73ffffffffffffffffffffffffffffffffffffffff1660009081526020819052604090205460ff1690565b600083606081901c33148061024c57507fffffffffffffffffffffffffffffffffffffffff0000000000000000000000008116155b6102a1576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260458152602001806107746045913960600191505060405180910390fd5b606084848080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920182905250604051855195965090943094508b93508692506020918201918291908401908083835b6020831061033557805182527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe090920191602091820191016102f8565b51815160209384036101000a7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff018019909216911617905260408051929094018281037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe00183528085528251928201929092207fff000000000000000000000000000000000000000000000000000000000000008383015260609890981b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016602183015260358201969096526055808201979097528251808203909701875260750182525084519484019490942073ffffffffffffffffffffffffffffffffffffffff81166000908152938490529390922054929350505060ff16156104a7576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252603f815260200180610735603f913960400191505060405180910390fd5b81602001825188818334f5955050508073ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff161461053a576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260468152602001806107b96046913960600191505060405180910390fd5b50505073ffffffffffffffffffffffffffffffffffffffff8116600090815260208190526040902080547fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660011790559392505050565b6000308484846040516020018083838082843760408051919093018181037fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe001825280845281516020928301207fff000000000000000000000000000000000000000000000000000000000000008383015260609990991b7fffffffffffffffffffffffffffffffffffffffff000000000000000000000000166021820152603581019790975260558088019890985282518088039098018852607590960182525085519585019590952073ffffffffffffffffffffffffffffffffffffffff81166000908152948590529490932054939450505060ff909116159050610697575060005b9392505050565b604080517fff000000000000000000000000000000000000000000000000000000000000006020808301919091523060601b6021830152603582018590526055808301859052835180840390910181526075909201835281519181019190912073ffffffffffffffffffffffffffffffffffffffff81166000908152918290529190205460ff161561072e575060005b9291505056fe496e76616c696420636f6e7472616374206372656174696f6e202d20636f6e74726163742068617320616c7265616479206265656e206465706c6f7965642e496e76616c69642073616c74202d206669727374203230206279746573206f66207468652073616c74206d757374206d617463682063616c6c696e6720616464726573732e4661696c656420746f206465706c6f7920636f6e7472616374207573696e672070726f76696465642073616c7420616e6420696e697469616c697a6174696f6e20636f64652ea265627a7a723058202bdc55310d97c4088f18acf04253db593f0914059f0c781a9df3624dcef0d1cf64736f6c634300050a0032";
            /// @solidity memory-safe-assembly
            assembly {
                let m := mload(0x40)
                mstore(m, 0xb4d6c782) // `etch(address,bytes)`.
                mstore(add(m, 0x20), c2f)
                mstore(add(m, 0x40), 0x40)
                let n := mload(ic2fBytecode)
                mstore(add(m, 0x60), n)
                for { let i := 0 } lt(i, n) { i := add(0x20, i) } {
                    mstore(
                        add(add(m, 0x80), i),
                        mload(add(add(ic2fBytecode, 0x20), i))
                    )
                }
                let vmAddress := 0x7109709ECfa91a80626fF3989D68f67F5b1DD12D
                if iszero(
                    call(
                        gas(),
                        vmAddress,
                        0,
                        add(m, 0x1c),
                        add(n, 0x64),
                        0x00,
                        0x00
                    )
                ) { revert(0, 0) }
            }
        }
        /// @solidity memory-safe-assembly
        assembly {
            let m := mload(0x40)
            let n := mload($initializationCode)
            mstore(m, 0x64e03087) // `safeCreate2(bytes32,bytes)`.
            mstore(add(m, 0x20), $salt)
            mstore(add(m, 0x40), 0x40)
            mstore(add(m, 0x60), n)
            // prettier-ignore
            for { let i := 0 } lt(i, n) { i := add(i, 0x20) } {
                mstore(
                    add(add(m, 0x80), i),
                    mload(add(add($initializationCode, 0x20), i))
                )
            }
            if iszero(call(gas(), c2f, 0, add(m, 0x1c), add(n, 0x64), m, 0x20))
            {
                returndatacopy(m, m, returndatasize())
                revert(m, returndatasize())
            }
            $deployment := mload(m)
        }
    }

    /**
     * @notice Determine and retrieve the extcodesize of `deployment`.
     * @param $deployment The address to check.
     * @return $result The size of the code at `deployment`.
     */
    function _extcodesize(address $deployment)
        private
        view
        returns (uint256 $result)
    {
        /// @solidity memory-safe-assembly
        assembly {
            $result := extcodesize($deployment)
        }
    }
}
