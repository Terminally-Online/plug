import{_ as s,o as e,c as a,Q as n}from"./chunks/framework.6d94f49f.js";const b=JSON.parse('{"title":"Automated Generation","description":"","frontmatter":{},"headers":[],"relativePath":"decoders/eip-712/automated-generation.md","filePath":"decoders/eip-712/automated-generation.md","lastUpdated":1699680977000}'),o={name:"decoders/eip-712/automated-generation.md"},t=n(`<h1 id="automated-generation" tabindex="-1">Automated Generation <a class="header-anchor" href="#automated-generation" aria-label="Permalink to &quot;Automated Generation&quot;">​</a></h1><p>The <code>Plug</code> framework is designed to be modular and flexible for two key reasons:</p><ol><li>The protocol is not prescriptive with your needs. You can use it to build whatever you want without having to deal with the consequences of choices I made for you.</li><li>The framework is in <code>early alpha</code> and lives in highly iterative environment. At this time, forward progress and improvements are prioritized over API/interface stability.</li></ol><p>Typically when writing a new protocol it is not abnormal to take many months from start to finish. Even to get ready for an audit a team of developers will often spend weeks or months writing tests and documentation. <strong>This is a lot of time and effort to spend on something that you may not even be sure will work or get users.</strong></p><h2 id="the-paradox-of-blockchain-development" tabindex="-1">The Paradox of Blockchain Development <a class="header-anchor" href="#the-paradox-of-blockchain-development" aria-label="Permalink to &quot;The Paradox of Blockchain Development&quot;">​</a></h2><p>For a framework such as <code>Plug</code>, extended periods of silent development are even more expensive and damaging to progress that could have been. Being a blockchain developer has been a paradoxical situation where:</p><ul><li>Your product has to be sufficiently complex to be valuable.</li><li>Complexity is the enemy of iteration, delivery, and usability.</li></ul><p>As something becomes more complex you are tasked to spend an increasing amount of time on fiddling with the tiniest of details. By the time you have a product that is sufficiently complex to be valuable, it is either too complex to iterate on or you&#39;ve spent so much time on it that you&#39;ve run out of money.</p><p><strong>This is not only a waste of time but also a waste of money.</strong></p><h2 id="resolving-the-tedium" tabindex="-1">Resolving the Tedium <a class="header-anchor" href="#resolving-the-tedium" aria-label="Permalink to &quot;Resolving the Tedium&quot;">​</a></h2><p>To resolve this issue, <code>Plug</code> is built on top of an automated <code>Types</code> generation pipeline that not only ensures our types work on the first try across all parts of our stack, but that we do not even need to spend time making changes to the broader smart contracts as we iterate on the framework.</p><p>This is accomplished by using the <code>Plug</code> framework to generate the <code>Plug</code> protocol. It sounds funny, but it&#39;s true.</p><p>This means that the <code>Plug</code> framework is not only self-sufficient, but it is also self-generating. Due to the declarative nature of <a href="/intents/introduction.html">Intents</a>, a few simple rules can be defined to enable automatic generation for a vast majority of the implementation.</p><p>With this simple pipeline in place we can focus on the core mechanisms of our protocol and not get bogged down in the tedium of writing and maintaining the same code over and over again.</p><h2 id="getting-started" tabindex="-1">Getting Started <a class="header-anchor" href="#getting-started" aria-label="Permalink to &quot;Getting Started&quot;">​</a></h2><p>The <code>Type</code> system of <code>Plug</code> is automatically generated using <code>@nftchance/plug-types</code>. While it is unlikely that you will ever need to use this package directly, allow me to provide some general context quickly.</p><p>To generate your first smart contract there are only a few steps. First, you&#39;ll need to install the <code>Typescript</code> library by opening a terminal and running the following command with your package manager of your choice:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-_-i-Z" id="tab-VsIZaxc" checked="checked"><label for="tab-VsIZaxc">npm</label><input type="radio" name="group-_-i-Z" id="tab-2rcKbb_"><label for="tab-2rcKbb_">pnpm</label><input type="radio" name="group-_-i-Z" id="tab-sFdDoYI"><label for="tab-sFdDoYI">bun</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@nftchance/plug-types</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@nftchance/plug-types</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@nftchance/plug-types</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pnpm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@nftchance/plug-types</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">bun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@nftchance/plug-types</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">bun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@nftchance/plug-types</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></div></div><h3 id="initialize-the-environment" tabindex="-1">Initialize the Environment <a class="header-anchor" href="#initialize-the-environment" aria-label="Permalink to &quot;Initialize the Environment&quot;">​</a></h3><p>With <code>@nftchance/plug-types</code> installed, you can now initialize your configuration by running the following command in the <code>root</code> directory of your project:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-GL074" id="tab-9N-NvUy" checked="checked"><label for="tab-9N-NvUy">npm</label><input type="radio" name="group-GL074" id="tab-fgViQ2m"><label for="tab-fgViQ2m">pnpm</label><input type="radio" name="group-GL074" id="tab-U2SOdjb"><label for="tab-U2SOdjb">bun</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plug</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plug</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plug</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pnpm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plug</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">bun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plug</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">init</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">bun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plug</span><span style="color:#24292E;"> </span><span style="color:#032F62;">init</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>By running this command an <code>plug.config.ts</code> file will be created in the root directory of your project. This file is used to configure the <code>Plug</code> framework and is the only file that you will need to edit directly.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Two quick notes: If there is already an <code>plug.config.ts</code> file in your project, this command will fail. Additionally, if you do not set a configuration file, the default configuration will be used.</p></div></div></div><h3 id="configure-the-generation" tabindex="-1">Configure the Generation <a class="header-anchor" href="#configure-the-generation" aria-label="Permalink to &quot;Configure the Generation&quot;">​</a></h3><p>By default <code>plug-types</code> ships with a pre-built version of the current <code>Plug</code> <a href="/decoders/base-types.html">Base Types</a> that are used to power 99% of <code>Plug</code> consumers.</p><p>For now we are going to use the default types. That means all we need to do is set the <code>out</code> path to our <code>contracts</code> directory:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-ImIek" id="tab-mYIDvzB" checked="checked"><label for="tab-mYIDvzB">./plug.config.ts</label></div><div class="blocks"><div class="language-typescript vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { config } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@nftchance/plug-types&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">config</span><span style="color:#E1E4E8;">({ out: </span><span style="color:#9ECBFF;">&quot;./contracts/abstracts/&quot;</span><span style="color:#E1E4E8;"> });</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { config } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@nftchance/plug-types&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">config</span><span style="color:#24292E;">({ out: </span><span style="color:#032F62;">&quot;./contracts/abstracts/&quot;</span><span style="color:#24292E;"> });</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div></div><p>Once again, just a couple of lines of code and we are officially ready to generate our first smart contract.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Remember, the library was built with <code>Typescript</code> so autocomplete will provide you additional context and options as you type. For simplicity here I have provided the most basic configuration possible.</p></div><h3 id="running-the-generation" tabindex="-1">Running the Generation <a class="header-anchor" href="#running-the-generation" aria-label="Permalink to &quot;Running the Generation&quot;">​</a></h3><p>You&#39;re already done with the &#39;hard&#39; part. To start the <code>Solidity</code> generation based on the configuration provided return to your terminal and run:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-aJASm" id="tab-P3cG-o4" checked="checked"><label for="tab-P3cG-o4">npm</label><input type="radio" name="group-aJASm" id="tab-IboAYGM"><label for="tab-IboAYGM">pnpm</label><input type="radio" name="group-aJASm" id="tab-x-aRvCI"><label for="tab-x-aRvCI">bun</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plug</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">generate</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plug</span><span style="color:#24292E;"> </span><span style="color:#032F62;">generate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plug</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">generate</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pnpm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plug</span><span style="color:#24292E;"> </span><span style="color:#032F62;">generate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">bun</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">plug</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">generate</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">bun</span><span style="color:#24292E;"> </span><span style="color:#032F62;">plug</span><span style="color:#24292E;"> </span><span style="color:#032F62;">generate</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>Boom!</strong> Your contracts have been generated.</p></div></div><h3 id="the-generated-output" tabindex="-1">The Generated Output <a class="header-anchor" href="#the-generated-output" aria-label="Permalink to &quot;The Generated Output&quot;">​</a></h3><p>We&#39;ve already covered the <code>out</code> path, but let&#39;s take a look at the output of the <code>Plug</code> library. By default, the <code>Plug</code> library will generate a single <code>Types.sol</code> that contains:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-rdH5K" id="tab-UJyL6tM" checked="checked"><label for="tab-UJyL6tM">./{out}/Types.sol</label></div><div class="blocks"><div class="language-ml vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">ml</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">├─ ITypes - &quot;An interface that declares the types used by your framework.&quot;</span></span>
<span class="line"><span style="color:#e1e4e8;">└─ Types - &quot;An abstract reference to be inherited by your framework.&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">├─ ITypes - &quot;An interface that declares the types used by your framework.&quot;</span></span>
<span class="line"><span style="color:#24292e;">└─ Types - &quot;An abstract reference to be inherited by your framework.&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></div></div><p>This single file contains everything needed to start building on top of <a href="/decoders/eip-712/signed-pairs.html">Signed Pairs</a> and <a href="/intents/introduction.html">Intents</a>. Although it is a single file, a lot happens including:</p><ul><li>The static <code>TypeHash</code> of each <code>Type</code>.</li><li>The initialization of the <code>Domain</code> for <a href="/decoders/eip-712.html#domain-specification">EIP-712</a>.</li><li>The <a href="/decoders/hash-getters.html">hashGetter</a> functions for each <code>Type</code>.</li><li>The <a href="/decoders/digest-getters.html">digestGetter</a> functions for each nested <code>Type</code> in the <a href="/decoders/eip-712/signed-pairs.html">SignedPairs</a> declared.</li><li>The <a href="/decoders/signer-getters.html">signerGetter</a> functions for the top-level of <code>SignedPair</code> <code>Type</code>.</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>ITypes</code> does not include interface function declarations of the <code>Types</code> contract. This is because <code>Types.sol</code> is generated as an <code>abstract</code> contract and cannot be used without being inherited. However, if an interface is required, one can be generated from the ABI of your smart contract.</p><p>Alternativey, in <code>Solidity</code> you can just import the live referenece of the protocol and use it in place of an indepenently declared and managed interface.</p></div><h2 id="adding-custom-types" tabindex="-1">Adding Custom Types <a class="header-anchor" href="#adding-custom-types" aria-label="Permalink to &quot;Adding Custom Types&quot;">​</a></h2><p>In some cases you will want access to more than just the base <code>Plug</code> types of <code>Permissions</code>, <code>Intents</code>, and all the supporting shapes such as <code>Transaction</code>, <code>ReplayProtection</code>, etc.</p><p>In this case, you need to extend the types and prepare your protocol to consume a framework that has already been initialized with all the confusing <a href="https://eips.ethereum.org/EIPS/eip-712" target="_blank" rel="noreferrer">EIP-712 data types and decoders</a> taken care of.</p><div class="danger custom-block"><p class="custom-block-title">DANGER</p><p>If you are at this level, it is assumed that you are familiar with <code>EIP-712</code> -- verification of signatures can be very complex. If you are having trouble verifying your signatures I recommend taking the <code>types first</code> approach so that you can take have a clear understanding of where an issues may be arising.</p></div><p>By default, when you providing your own types they will be loaded alongside the core <code>Plug</code> framework types so that you can make your protocol intent-based without any work beyond the normal scope (yes, really, no additional work -- it&#39;s pretty cool, right?)</p><p>To illustrate this, let&#39;s look at the same example from earlier where we are sending <code>Mail</code> messages from one party to another. We&#39;ll start by declaring the <a href="https://eips.ethereum.org/EIPS/eip-712" target="_blank" rel="noreferrer">EIP-712 data types</a> that we need to use:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-gTD1e" id="tab-ZvvMTpA" checked="checked"><label for="tab-ZvvMTpA">constants.ts</label></div><div class="blocks"><div class="language-typescript vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">types</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  Mail: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { name: </span><span style="color:#9ECBFF;">&quot;from&quot;</span><span style="color:#E1E4E8;">, type: </span><span style="color:#9ECBFF;">&quot;Person&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { name: </span><span style="color:#9ECBFF;">&quot;to&quot;</span><span style="color:#E1E4E8;">, type: </span><span style="color:#9ECBFF;">&quot;Person&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { name: </span><span style="color:#9ECBFF;">&quot;contents&quot;</span><span style="color:#E1E4E8;">, type: </span><span style="color:#9ECBFF;">&quot;string&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  Person: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { name: </span><span style="color:#9ECBFF;">&quot;name&quot;</span><span style="color:#E1E4E8;">, type: </span><span style="color:#9ECBFF;">&quot;string&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { name: </span><span style="color:#9ECBFF;">&quot;wallet&quot;</span><span style="color:#E1E4E8;">, type: </span><span style="color:#9ECBFF;">&quot;address&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  SignedMail: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { name: </span><span style="color:#9ECBFF;">&quot;mail&quot;</span><span style="color:#E1E4E8;">, type: </span><span style="color:#9ECBFF;">&quot;Mail&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { name: </span><span style="color:#9ECBFF;">&quot;signature&quot;</span><span style="color:#E1E4E8;">, type: </span><span style="color:#9ECBFF;">&quot;bytes&quot;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">as</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">types</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  Mail: [</span></span>
<span class="line"><span style="color:#24292E;">    { name: </span><span style="color:#032F62;">&quot;from&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;Person&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { name: </span><span style="color:#032F62;">&quot;to&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;Person&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { name: </span><span style="color:#032F62;">&quot;contents&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;string&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  Person: [</span></span>
<span class="line"><span style="color:#24292E;">    { name: </span><span style="color:#032F62;">&quot;name&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;string&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { name: </span><span style="color:#032F62;">&quot;wallet&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;address&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  SignedMail: [</span></span>
<span class="line"><span style="color:#24292E;">    { name: </span><span style="color:#032F62;">&quot;mail&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;Mail&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { name: </span><span style="color:#032F62;">&quot;signature&quot;</span><span style="color:#24292E;">, type: </span><span style="color:#032F62;">&quot;bytes&quot;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">} </span><span style="color:#D73A49;">as</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">const</span><span style="color:#24292E;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></div></div><p>With this configuration, we have the types needed to send <code>Mail</code> from one <code>Wallet</code> to another. Now that our types are declared, we will initialize the <code>plug-types</code> config with the <code>EIP-712</code> data types as well as add ourselves to the list of authors by updating our <code>plug.config.ts</code> to:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-nLGrr" id="tab-1KKINpY" checked="checked"><label for="tab-1KKINpY">plug.config.ts</label></div><div class="blocks"><div class="language-typescript vp-adaptive-theme active line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark has-focused-lines vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { config } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@nftchance/plug-types&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> { types } </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;./constants.ts&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">config</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">  contract: {</span></span>
<span class="line has-focus"><span style="color:#E1E4E8;">    authors: [</span><span style="color:#9ECBFF;">&quot;&lt;your name&gt;&quot;</span><span style="color:#E1E4E8;">], </span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  out: </span><span style="color:#9ECBFF;">&quot;./contracts/abstracts/&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line has-focus"><span style="color:#E1E4E8;">  types, </span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light has-focused-lines vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { config } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@nftchance/plug-types&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> { types } </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;./constants.ts&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">config</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">  contract: {</span></span>
<span class="line has-focus"><span style="color:#24292E;">    authors: [</span><span style="color:#032F62;">&quot;&lt;your name&gt;&quot;</span><span style="color:#24292E;">], </span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  out: </span><span style="color:#032F62;">&quot;./contracts/abstracts/&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line has-focus"><span style="color:#24292E;">  types, </span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>With this simple addition to your configuration file you are ready to go. Run the <code>generate</code> command and go focus on the core mechanisms of your protocol.</p></div></div>`,45),l=[t];function p(r,c,i,d,u,y){return e(),a("div",null,l)}const m=s(o,[["render",p]]);export{b as __pageData,m as default};
